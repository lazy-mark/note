# Jenkins持续集成

## 持续集成及Jenkins介绍

### 软件开发生命周期

### 软件开发瀑布模型

### 软件的敏捷开发

敏捷开发的核心是迭代开发与增量开发。

#### 迭代开发

对于大项软件项目，传统的开发方式是采用一个大周期进行开发，整个过程就是一次“大开发”；迭代开发的方式则不一样，他将开发过程拆分成多个小周期，即一次“大开发”变成多次“小开发”，每次小开发都是同样的流程，所以看上去就好像重复在做同样的步骤。

#### 增量开发



## 什么是持续集成

持续集成（CI）指的是，频繁地（一天多次）将代码集成到主干。

持续集成的目的，就是让产品可以快速迭代，同时还能保持高质量。它的核心措施就是，代码集成到主干之前，必须通过自动化测试，只要有一个测试用例失败，就不能集成。

通过持续集成，团队可以快速的从一个功能到另一个功能，简而言之，敏捷开发很大一部分都要归功于持续集成。



### 持续集成的流程

根据持续集成的设计，代码从提交到生产，整个过程有以下几步。

- 提交

  流程的第一步，是开发者向代码仓库提交代码。所有后面的步骤都始于本地代码的一次提交（commit）。

- 测试【第一轮】

  代码仓库对commit操作配置了钩子（hook），只要提交代码或者合并进主干，就会跑自动化测试。

- 构建

  通过第一轮测试，代码就可以合并进主干，就算可以交付了。交付后，就先需要进行构建（Build），再进行第二轮测试。所谓构建，指的是将源码转换为可以运行的实际代码，比如安装依赖，配置各种资源（样式表、JS脚本、图片）等等。

- 测试【第二轮】

  构建完成，就要进行二轮测试。如果第一轮已经涵盖了所有测试内容，第二轮可以省略，当然，这时构建步骤也要移到第一轮测试前面。

- 部署

  过了第二轮测试，当前代码就是一个可以直接部署的版本（artifact）。将这个版本的所有文件打包（tar xxx.tar）存档，发到生产服务器。

- 回滚

  一旦当前版本发生问题，就要回滚到上一个版本的构建结果。最简单的做法就是修改一个符号链接，指向上一个版本的目录。



## 持续集成的组成要素

- 一个自动构建过程，从检查代码、编译构建、运行测试、结果记录、测试统计等都是自动完成的，无需人工干预。
- 一个代码存储库，即需要版本控制软件来保障代码的可维护性，同时作为构建过程的素材库，一般使用SVN或Git。
- 一个持续集成服务器，Jenkins就是一个配置简单的使用方便的持续集成服务器。



## 持续集成的好处

1. 降低风险，由于持续集成不断去构建，编译和测试，可以很早期发现问题，所以修复的代价就少；
2. 对系统健康持续检查，减少发布风险带来的问题；
3. 减少重复性工作；
4. 持续部署，提供可部署单元包；
5. 持续交付可供使用的版本；



# Jenkins介绍

Jenkins是一款流行的开源持续集成（CI）工具，广泛用于项目开发，具有自动化构建、测试和部署等功能。



Jenkins的特征：

- 开源的Java语言开发持续集成工具，支持持续集成，持续部署；
- 易于安装部署配置，可通过yum安装或下载war包以及通过docker容器等快速实现安装部署，可方便web界面配置管理；
- 消息通知及测试报告：集成RSS/E-mail通过RSS发布构建结果或当构建完成时通过e-mail通知，生成Junit/TestNG测试报告；
- 分布式构建：支持Jenkins能够让多台机器一起构建/测试；
- 文件识别：Jenkins能够跟踪哪次构建生成那些jar，哪次构建使用哪个版本的jar等；
- 丰富的插件支持：支持扩展插件，可以开发适合自己团队使用的工具，如git、svn、maven、docker等。



## Jenkins安装和持续集成环境配置

