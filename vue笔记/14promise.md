# 十四、Promise

## 14.1、什么是Promise？

- ES6中一个非常重要的好用的特性就是Promise。
- Promise是异步编程的一种解决方案。
- 什么时候我们会来处理异步事件呢？
  - 一种很常见的场景应该就是网络请求了。
  - 我们封装一个网络请求的函数，因为不能立即拿到结果。
  - 所以往往我们会传入另外一个函数，在数据请求成功时，将数据通过传入的函数回调出去。

比如一个定时器、事件监听、回调，它也是一个异步。

```js
setTimeout(() => {
    console.log('timer')
},1000)
```

使用Promise对这个异步操作进行封装 `new -> 构造函数`(1.保存了一些状态信息，2.执行传入的函数)。在执行传入的回调函数时，会传入两个参数，resolve，reject，它们本身也是函数。

## 14.2、Promise对象的状态

- pending: 等待中，或者进行中，表示还没有得到结果。
- resolved(Fulfilled): 已经完成，表示得到了我们想要的结果，可以继续往下执行。当我们主动回调了resolve时，就处于该状态，并且会回调.then()。
- rejected: 拒绝状态，也表示得到结果，但是由于结果并非我们所愿，因此拒绝执行。当我们主动回调了reject时，就处于该状态，并且会回调.catch()。

这三种状态不受外界影响，而且状态只能从pending改变为resolved或者rejected，并且不可逆。在Promise对象的构造函数中，将一个函数作为第一个参数。而这个函数，就是用来处理Promise的状态变化。

